{"version":3,"sources":["SalmonIdGenerator.js","App.js","reportWebVitals.js","index.js"],"names":["SalmonIdGenerator","useEffect","ReactGA","initialize","pageview","today","Date","date","getDate","month","getMonth","year","getFullYear","days","Array","keys","map","x","months","years","useState","birthDate","setBirthDate","name","setName","sex","setSex","cardImage","setCardImage","headshot","setHeadshot","showResult","setShowResult","canvas","useRef","deafaultCard","Image","src","onload","head","ctx","current","getContext","drawImage","font","fillStyle","textAlign","fillText","getSpacedName","spaces","length","split","join","repeat","className","ref","width","height","style","onClick","e","display","window","scrollTo","top","event","category","action","restart","autocomplete","onSubmit","preventDefault","trim","includes","alert","submitHandler","for","type","placeholder","value","required","onChange","target","day","accept","new_headshot","URL","createObjectURL","files","class","data-href","data-layout","href","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.651999dc.chunk.js","sourcesContent":["import React, { useEffect, useState, useRef } from 'react'\nimport \"./SalmonIdGenerator.css\";\nimport ReactGA from 'react-ga';\n\nconst SalmonIdGenerator = () => {\n    //initialize Google Analytics\n    useEffect(() => {\n        ReactGA.initialize(\"UA-164144151-1\")\n        ReactGA.pageview('/')\n    },[])\n\n    //date of today\n    const today = new Date();\n    const date = {\n        date: today.getDate(),\n        month: today.getMonth() + 1,\n        year: today.getFullYear()-1911,\n    }\n\n    //const arrays for birthdate options\n    const days = [...Array(31).keys()].map(x => x+1)\n    const months = [...Array(12).keys()].map(x => x+1)\n    const years = [...Array(date.year).keys()].map(x => date.year-x)\n\n    //states\n    const [birthDate, setBirthDate] = useState({\n        year: \"\",\n        month: \"\",\n        date: \"\",\n    });\n    const [name, setName] = useState(\"\");    \n    const [sex, setSex] = useState(\"\");\n    const [cardImage, setCardImage] = useState(null);\n    const [headshot, setHeadshot] = useState(null);\n    const [showResult, setShowResult] = useState(false);\n\n    //refs\n    const canvas = useRef();\n    const deafaultCard = useRef();\n    const nameInput = useRef();\n\n    //make sure image loads at first render\n    useEffect(() => {\n        const cardImage = new Image();\n        cardImage.src = \"https://i.imgur.com/QBlys1A.png\";\n        cardImage.onload = () => setCardImage(cardImage);\n\n        const head = new Image();\n        head.src = \"https://i.imgur.com/Mdea5ym.jpg\";\n        head.onload = () => setHeadshot(head);        \n    }, [])\n\n    //\n    useEffect(() => {\n        if( (cardImage && headshot) && canvas){\n            //initialize canvas\n            const ctx = canvas.current.getContext(\"2d\")\n            ctx.drawImage(cardImage, 0, 0)\n            ctx.drawImage(headshot, 400, 30, 160, 160*1.285)\n\n            //name\n            ctx.font = \"600 35px PMingLiU, 'Noto Serif TC', serif\"\n            ctx.fillStyle = \"#3f434a\"\n            ctx.textAlign = \"left\"\n            ctx.fillText(getSpacedName(name), 100, 195, 230)\n\n            //birth date\n            ctx.font = \"600 22px PMingLiU, 'Noto Serif TC', serif\"\n            ctx.textAlign = \"center\"\n            ctx.fillText(birthDate.year, 165, 260)\n            ctx.fillText(birthDate.month, 227.5, 260)\n            ctx.fillText(birthDate.date, 290, 260)\n            \n            //sex\n            ctx.font = \"600 20px PMingLiU, 'Noto Serif TC', serif\"\n            ctx.fillText(sex, 495, 265)\n\n            //date of issue (default to date of today)\n            ctx.font = \"600 17px PMingLiU, 'Noto Serif TC', serif\"\n            ctx.fillText(date.year, 145, 314)\n            ctx.fillText(date.month, 180, 314)\n            ctx.fillText(date.date, 210, 314)\n\n            //uniform id (default to \"A123456789\")\n            ctx.font = \"300 28px PMingLiU, 'Noto Serif TC', serif\"\n            ctx.fillStyle = \"#ba2822\"\n            ctx.textAlign = \"left\"\n            ctx.fillText(\"A123456789\", 403, 325)\n        }        \n    }, [cardImage, headshot, canvas, birthDate, name, sex])\n    \n    const submitHandler = (e) => {\n        e.preventDefault();\n        \n        //validate name input\n        setName(name.trim());   //remove the extra space in the name\n        if ( !(name.includes(\"é®­\") && name.includes(\"é­š\"))) {\n            alert(\"åå­—æ²’é®­é­šé‚„æƒ³åƒé®­é­šï¼Ÿå›å»é‡å¯« ğŸ˜ !\");\n            //collects GA event usage\n            ReactGA.event({\n                category: \"Form rejeced\",\n                action: \"Form rejected due to name\"\n            })\n            return;\n        }\n\n        setShowResult(true);\n        canvas.current.style.display = \"block\";     //hide result \n        deafaultCard.current.style.display = \"none\"     //hide default card imagez\n\n        window.scrollTo({top: 0});\n        //collects GA event usage\n        ReactGA.event({\n            category: \"Submit\",\n            action: \"A new salmon meme id generated\"\n        })\n    }\n\n    //adds space between characters in name to look more valid XD\n    const getSpacedName = (name) => {\n        const maxChar = 25;\n        const spaces = (maxChar - name.length)/name.length;\n        return name ? name.split('').join(\" \".repeat(spaces)) : \"\";\n    }\n\n    //restart the app by hiding result, and show the forms & default image again.\n    const restart = (e) => {\n        setShowResult(false);\n        canvas.current.style.display = \"none\";  //hide result \n        deafaultCard.current.style.display = \"block\";   //show deafult card image\n       \n        setName(\"\");\n        //reset headshot to default image(sushi)\n        const headshot = new Image();\n        headshot.src = \"https://i.imgur.com/Mdea5ym.jpg\";\n        headshot.onload = () => setHeadshot(headshot);  \n        setHeadshot(); \n        \n        window.scrollTo({top: 0});        \n        //collects GA event usage\n        ReactGA.event({\n            category: \"Restart\",\n            action: \"A user restarted the game\"\n        })\n    }\n\n    return (\n        <div className=\"GeneratorPage\">\n            <p className=\"title\">ğŸ£ é®­é­šèº«åˆ†è­‰ç”¢ç”Ÿå™¨ ğŸ£</p>           \n            <p className=\"subtitle\">æ²’æœ‰æ”¹åçš„å‹‡æ°£ï¼Œä¹Ÿè¦æœ‰è£é€¼çš„å‹‡æ°£ğŸ˜</p>   \n            <img src=\"https://i.imgur.com/C2nUhcr.png\" ref={deafaultCard} className=\"idCard_default\"/>\n            <canvas width=\"588\" height=\"364\" ref={canvas} className=\"idCard\" style={{}}/>\n            {\n                showResult? \n                    <div className=\"result\"> \n                        <p className=\"end\">Wowé‚£ä½ å¾ˆæœƒå–åå­—å–”ğŸ˜ğŸ˜ğŸ˜</p>\n                        <p className=\"saveNote\">*é›»è…¦æŒ‰ä¸‹å³éµå¯ä»¥ä¿å­˜ï¼Œæ‰‹æ©Ÿç›´æ¥è¢å¹•æˆªåœ–*</p>\n                        <button  className=\"restartButton\" onClick={(e) => restart() }>å†ç©ä¸€æ¬¡ ğŸ£</button>  \n                    </div>                   \n                    :\n                    <form className=\"formContainer\" autocomplete=\"off\" onSubmit={ e => submitHandler(e)}>\n                        <div className=\"name formRow\">\n                            <label for=\"idForm\" className=\"formLabel\">å§“å</label>\n                            <input type=\"text\" placeholder=\"å¿…é ˆå«æœ‰â€œé®­é­šâ€äºŒå­— ğŸ£\" value={name} required className=\"formInput\" onChange={ e => setName(e.target.value)}/>\n                        </div>                \n\n                        <div className=\"birthDate formRow\">\n                            <label for=\"idForm\" className=\"formLabel\">å‡ºç”Ÿå¹´/æœˆ/æ—¥</label>\n                            <select name=\"birthYear\" for=\"idForm\" required className=\"formInput\" onChange={ e => setBirthDate({\n                                ...birthDate,\n                                year: e.target.value\n                            })}>\n                                <option></option>\n                                {years.map( year => <option>{year}</option>) }       \n                            </select>                 \n                            <select name=\"birthMonth\" for=\"idForm\" required className=\"formInput\" onChange={ e => setBirthDate({\n                                ...birthDate,\n                                month: e.target.value\n                            })}>                   \n                                <option></option>\n                                { months.map( month => <option>{month}</option>) }                \n                            </select> \n                            <select name=\"birthDate\" for=\"idForm\" required className=\"formInput\" onChange={ e => setBirthDate({\n                                ...birthDate,\n                                date: e.target.value\n                            })}>\n                                <option></option>\n                                    { days.map( day => <option>{day}</option>) }\n                            </select> \n                        </div>                \n\n                        <div className=\"sex formRow\">\n                            <label for=\"idForm\" className=\"formLabel\">æ€§åˆ¥</label>\n                            <select name=\"sex\" for=\"idForm\" required className=\"formInput\" onChange={ e => setSex(e.target.value)}> \n                                <option></option>\n                                <option>ç”·</option>\n                                <option>å¥³</option>\n                                <option>é®­é­š</option>\n                            </select> \n                        </div>                 \n                        \n                        <label for=\"idForm\" className=\"formLabel formRow\">ä¸Šå‚³å¤§é ­ç…§ï¼ˆé¸å¡«ï¼‰</label>\n                        <input type=\"file\" accept=\"image/*\" onChange={ e => {\n                            const new_headshot = new Image();\n                            new_headshot.src = URL.createObjectURL(e.target.files[0]);\n                            new_headshot.onload = () => setHeadshot(new_headshot);\n                            ReactGA.event({\n                                category: \"Upload\",\n                                action: \"A user uploaded an image\"\n                            })                        \n                        }}/>\n\n                        <button type=\"submit\" className=\"submitButton\">å®Œæˆ ğŸ˜</button>\n                    </form>   \n            }       \n            <div className=\"shareContainer\">\n                <p className=\"shareMessage\">è¦ºå¾—æœ‰è¶£çš„è©±åˆ†äº«å‡ºå»å§ğŸ¤ª ï½</p>\n                <div class=\"fb-share-button\" \n                    className=\"fb-share-button\"\n                    data-href=\"https://salmon-id-generator.netlify.app/\" \n                    data-layout=\"button_count\">\n                </div>  \n            </div>       \n            <a className=\"hashtag\" target=\"_blank\" href=\"https://www.instagram.com/explore/tags/é®­é­šèº«åˆ†è­‰ç”¢ç”Ÿå™¨/\">#é®­é­šèº«åˆ†è­‰ç”¢ç”Ÿå™¨</a>      \n        </div>        \n    )\n}\n\nexport default SalmonIdGenerator","import React from 'react';\nimport SalmonIdGenerator from './SalmonIdGenerator';\n\nfunction App() {\n    return (\n        <div className=\"App\">\n          <SalmonIdGenerator/>      \n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}